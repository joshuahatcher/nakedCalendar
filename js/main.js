(function(e){function t(e,t,n){if(t.addEventListener)t.addEventListener(e,n,false);else if(t.attachEvent){t.attachEvent("on"+e,n)}else{t[e]=n}}function o(){if(r.getElementById("target")){var e=r.getElementById("target");t("click",e,u)}else{setTimeout(o,100)}}function u(){var e,i,o,u=r.createElement("div"),p=new Date,d=p.getMonth()+1,v=p.getFullYear(),m=c(d,v),g=(new Date(v,d,0)).getDate(),y=l(g,d,v);if(n){n.style.display="block"}else{u.className="calendar-container";u.innerHTML=Handlebars.partials.calendarContainer({year:v,month:m,monthNum:d,days:y,daysOfWeek:s});r.body.appendChild(u);f(u);n=u;e=r.getElementById("calendar-close");i=r.getElementById("calendar-prev");o=r.getElementById("calendar-next");t("click",e,a);t("click",i,h);t("click",o,h)}}function a(){n.style.display="none"}function f(e){var t=e.clientWidth,n=e.clientHeight,r=window.innerWidth/2-t/2,i=window.innerHeight/2-n/2;e.style.left=r+"px";e.style.top=i+"px"}function l(e,t,n){var r=[],i=(new Date(n,parseInt(t-1),10)).getDay();for(var s=0;s<i;s++){r.push("")}for(var s=0;s<e;s++){r.push(s+1)}return r}function c(e){for(var t=0;t<i.length;t++){if(e===t+1){return i[t];break}}}function h(){var e,t,n,i,o,u=event.target||event.srcElement||event.originalTarget,a=r.getElementsByClassName("calendar-title")[0].id.split("-"),f=a[0],h=a[1];if(u.id==="calendar-prev"){if(f==="1"){n=12;o=parseInt(h)-1}else{n=parseInt(f)-1;o=h}}else{if(f==="12"){n=1;o=parseInt(h)+1}else{n=parseInt(f)+1;o=h}}i=c(n);t=(new Date(h,n,0)).getDate();e=l(t,n,o);r.getElementById("calendar").innerHTML=Handlebars.partials.calendar({year:o,month:i,monthNum:n,days:e,daysOfWeek:s})}var t,n,r=e,i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];o()})(document)