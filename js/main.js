(function(e){function t(e,t,n){if(t.addEventListener){t.addEventListener(e,n,false)}else if(t.attachEvent){t.attachEvent("on"+e,n)}else{t[e]=n}}function s(){if(e.getElementById("target")){var n=e.getElementById("target");t("click",n,o)}else{setTimeout(s,100)}}function o(){var r,s,o,h=e.createElement("div"),p=new Date,d=p.getMonth()+1,v=p.getFullYear(),m=l(d,v),g=(new Date(v,d,0)).getDate(),y=f(g,d,v);if(n){n.style.display="block"}else{h.className="calendar-container";h.innerHTML=Handlebars.partials.calendarContainer({year:v,month:m,monthNum:d,days:y,daysOfWeek:i});e.body.appendChild(h);a(h);n=h;r=e.getElementById("calendar-close");s=e.getElementById("calendar-prev");o=e.getElementById("calendar-next");t("click",r,u);t("click",s,c);t("click",o,c)}}function u(){n.style.display="none"}function a(e){var t=e.clientWidth,n=e.clientHeight,r=window.innerWidth/2-t/2,i=window.innerHeight/2-n/2;e.style.left=r+"px";e.style.top=i+"px"}function f(e,t,n){var r=[],i=(new Date(n,parseInt(t-1,10))).getDay();for(var s=0;s<i;s++){r.push("")}for(var s=0;s<e;s++){r.push(s+1)}return r}function l(e){for(var t=0;t<r.length;t++){if(e===t+1){return r[t];break}}}function c(){var t,n,r,s,o,u=event.target||event.srcElement||event.originalTarget,a=e.getElementsByClassName("calendar-title")[0].id.split("-"),c=a[0],h=a[1];if(u.id==="calendar-prev"){if(c==="1"){r=12;o=parseInt(h)-1}else{r=parseInt(c)-1;o=h}}else{if(c==="12"){r=1;o=parseInt(h)+1}else{r=parseInt(c)+1;o=h}}s=l(r);n=(new Date(h,r,0)).getDate();t=f(n,r,o);e.getElementById("calendar").innerHTML=Handlebars.partials.calendar({year:o,month:s,monthNum:r,days:t,daysOfWeek:i})}var t,n,r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];s()})(document)